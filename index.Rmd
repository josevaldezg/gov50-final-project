---
title: "Gov 50 Final Project"
author: "Jose Valdez Genao"
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---



## Project thoughts

I am interested in exploring data related to the results of the National Assessments (Pruebas Nacionales) of the Dominican Republic. Every year the Ministry of Education conducts these examinations nationwide, which every student is required to take to graduate from High School. This data is useful to better understand how students are performing in the different subjects (Spanish, Math, Social Sciences, Natural Sciences). Also, exploring this data might tell us how students are performing in the different regions, and the differences in performance between schooling methods (private, public, technical, arts, etc).

## Dataset and Research Question

```{r}
library(readr)
DR_education <- read_csv('Results_PN_Data.csv')
```
Does school performance in the Dominican national assessments correlate with the location, type of schooling, or funding source?

In this project, I aim to investigate potential performance differences in the Dominican national examinations, based on geographical location, school type (e.g., arts, technical, regular), and public or private funding. I hypothesize that students in the capital and metropolitan areas might achieve higher mean scores compared to students in rural areas. Furthermore, I think that there will be significant differences in mean scores across school types. Finally, I expect that students in private schools may exhibit higher mean scores than students in public schools. This hypothesis is grounded in the context of the Dominican Republic's education system, which has faced numerous challenges. From an international perspective, the country ranked in the lowest performance out of 79 participant countries/economies in the international assessment PISA 2018. From a national perspective, my theory is that several factors may contribute to the internal challenges. One of them are the disparities in access to educational resources, particularly in rural areas. For example, there are observed issues related to connectivity, access to electricity, internet, and technology devices. Students are also affected by inadequate infrastructure, lack of lab facilities, high classroom density, and shortages of teachers, which could affect some specific school types more than others. On the other hand, teachers in the capital and metropolitan areas have more access to training in relatively well-funded universities with more experienced faculty. These disparities likely result in variations in students' learning outcomes, contributing to the country's high inequality.

Factual research about these challenges can be found on this reports: 
https://www.thedialogue.org/wp-content/uploads/2013/10/rc_rdom20101.pdf
https://pdf.usaid.gov/pdf_docs/PA00WNWJ.pdf

My sample is in Spanish and includes national examination results from 2016 to 2020. My unit of analysis are the school’s mean results, with 46,283 observations. My first explanatory variable of interest is “Regional” which is measured by assigning every school to 18 different regionals across the country. This variable is coded by assigning each school to a specific region (e.g., School X = 10). Further investigation is needed to classify regions as metropolitan or rural. The second variable, "Nivel/Modalidad" (level/modality), is coded by assigning every school to the type of schooling. These are: General, Academic, Professional Technical, or Arts (e.g., School X = Arts). I plan to code a third variable differentiating between public and private schools, depending on data availability (e.g., School X = Public).

My outcome variables of interest are representing the mean scores in four academic subjects: Español (Spanish), Matemáticas (Math), Sociales (Social Sciences), and Naturales (Natural Sciences). I want to highlight that every academic subject represents a different variable, for a total of four outcome variables. These variables measures scores on a 30% scale, and summarizes the mean scores of all students in a school. For instance, the mean scores of students in School X are coded for Spanish (e.g., Spanish = 16.53).

Support for my hypothesis would be evident if schools in metropolitan areas demonstrate higher mean scores than rural schools. Also, my theory would be supported if there are significant differences across specific school types, or funding source (e.g., Academic or Private), as suggested by my theory. However, my hypothesis would be refuted if the data indicates similar performance across regionals and school types, including no significant difference in performance of public and private schools. Another outcome that would refute my theory is that public schools perform better than private schools. Coding the mean scores (outcome variables) across explanatory variables will allow me to test my hypothesis and draw meaningful conclusions.

## First Data Visualization

```{r, echo = FALSE}
library(ggplot2)
library(dplyr)
library(tidyr)
library(forcats)
library(tidytext)

# Your data
data <- tribble(
  ~Schooling_type, ~Spanish, ~Mathematics, ~Social_Sciences, ~Natural_Sciences,
  "ACADEMIC", 19.902198, 16.816484, 18.340049, 17.725397,
  "ADULTS SCHOOL", 9.828218, 9.661577, 9.290876, 9.042828,
  "ARTS", 16.453333, 14.667868, 15.084307, 14.985406,
  "GENERAL EDUCATION", 15.855032, 15.471510, 15.611412, 15.590785,
  "TECHNICAL-PROFESSIONAL", 18.298454, 17.115917, 16.889827, 17.007560
)

# Reshape the data
data_long <- data %>%
  pivot_longer(cols = -Schooling_type, names_to = "Subject", values_to = "Mean_Score")

# Create a custom color palette
custom_colors <- c("#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd")

fill_order <- c("ACADEMIC", "TECHNICAL-PROFESSIONAL", "GENERAL EDUCATION", "ARTS", "ADULTS SCHOOL")


# Create a function to customize facet labels
customize_labels_schooling <- function(value) {
  value <- as.character(value)
  custom_labels <- c("ACADEMIC" = "Academic",
                     "ADULTS SCHOOL" = "Adults School",
                     "ARTS" = "Arts",
                     "GENERAL EDUCATION" = "General Education",
                     "TECHNICAL-PROFESSIONAL" = "Technical-Professional")
  return(custom_labels[value])
}

customize_labels_subject <- function(value) {
  value <- as.character(value)
  custom_labels <- c("Spanish" = "Spanish",
                     "Mathematics" = "Math",
                     "Social_Sciences" = "Social Sciences",
                     "Natural_Sciences" = "Natural Sciences")
  return(custom_labels[value])
}

# Create the plot with customized facet labels and mean score values
p <- ggplot(data_long, aes(x = reorder_within(Schooling_type, Mean_Score, Subject), y = Mean_Score, fill = Schooling_type, label = sprintf("%.2f", Mean_Score))) +
  geom_bar(stat = "identity") +
  geom_text(size = 2, position = position_stack(vjust = 0.5), color = "white") +  # Add Mean_Score as text
  labs(
    x = "Schooling Type's Mean Score",
    y = "Mean Score per Subject",
    fill = "School Type",
    title = "Performance Differences per School Type (2016-2020)",
    caption = "Source: National Examinations, Ministry of Education Dominican Republic"
  ) +
  theme(legend.title = element_text(),
        axis.text.y = element_blank()) +
  scale_fill_manual(values = custom_colors, breaks = fill_order) +
  facet_wrap(~Subject, ncol = 2, scales = "free", labeller = labeller(Schooling_type = customize_labels_schooling, Subject = customize_labels_subject)) +
  coord_flip()
print(p)

```

## Results from One Analysis

```{r, echo = FALSE}
library(dplyr)
library(knitr)

HS_DR_Education <- DR_education %>%
  filter(!grepl("basica", `Nivel/Modalidad`, ignore.case = TRUE))

HS_DR_Education <- HS_DR_Education %>%
  mutate(Español = as.numeric(gsub("[^0-9.]", "", Español)),
         Matemáticas = as.numeric(gsub("[^0-9.]", "", Matemáticas)),
         Sociales = as.numeric(gsub("[^0-9.]", "", Sociales)),
         Naturales = as.numeric(gsub("[^0-9.]", "", Naturales)))

HS_DR_Education[is.na(HS_DR_Education)] <- 0

results_means <- HS_DR_Education %>%
  group_by(`Nivel/Modalidad`) %>%
  summarize(Spanish = mean(Español, na.rm = TRUE),
            Math = mean(Matemáticas, na.rm = TRUE),
            Social_Sciences = mean(Sociales, na.rm = TRUE),
            Natural_Sciences = mean(Naturales, na.rm = TRUE)) %>%
  filter(`Nivel/Modalidad` %in% c("ADULTOS FORMAL", "ARTES", "MODALIDAD GENERAL", "TECNICO PROFESIONAL", "ACADEMICOS")) %>%
  mutate(Schooling_Type = case_when(
    `Nivel/Modalidad` == "ADULTOS FORMAL" ~ "Adults School",
    `Nivel/Modalidad` == "ARTES" ~ "Arts",
    `Nivel/Modalidad` == "MODALIDAD GENERAL" ~ "General Education",
    `Nivel/Modalidad` == "TECNICO PROFESIONAL" ~ "Technical-Professional",
    `Nivel/Modalidad` == "ACADEMICOS" ~ "Academic"
  )) %>%
  select(Schooling_Type, Spanish, Math, Social_Sciences, Natural_Sciences)

colnames(results_means) <- c("Schooling Type", "Spanish", "Math", "Social Sciences", "Natural Sciences")

kable(results_means, caption = "National Mean Results per Schooling Type")

```

In the context of the national examinations (Pruebas Nacionales), where the results of students are a combination of their performance in the school and the national exam, the mean results per schooling type can provide insights into the potential impact of different educational programs on students' educational outcomes.   

It is important to consider the weight assigned to the school-based assessment (70%) and the national exam (30%). Table 1 contains mean results nationally of thousands of schools with different focuses, such as Academic or Technical-Professional.

Here are some observations:

1. **Academic:**
   - This category shows high mean scores across all subjects. In the context of the national examinations, students in Academic programs appear likely to have strong academic performance, contributing positively to their overall results.

2. **Adults School:**
   - The lower mean scores in this category may suggest that students in Adults School programs might face challenges or have different academic expectations compared to traditional academic programs. The national exam results may be influenced by these lower mean scores.

3. **Arts:**
   - The Arts schooling type demonstrates good performance, especially in subjects like Spanish and Social Sciences. Students in Arts programs may contribute positively to their national exam results, given their relatively high mean scores.

4. **General Education:**
   - General Education shows balanced mean scores across subjects. Students in this category are likely to have moderate academic performance, contributing to their overall results in the national examinations.

5. **Technical-Professional:**
   - The Technical-Professional schooling type displays high mean scores, particularly in Spanish. This suggests that students in Technical-Professional programs may significantly impact their national exam results due to their strong academic performance.

These observations emphasize the potential influence of the educational program on students' academic achievements.